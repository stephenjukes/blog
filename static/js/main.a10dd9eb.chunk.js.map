{"version":3,"sources":["app/initial-state/images/PeterVenkman.jpg","app/initial-state/images/RayStantz.jpg","app/initial-state/images/EgonSpengler.jpg","app/initial-state/images/WinstonZeddemore.jpg","app/initial-state/images/ninja.jpg","serviceWorker.js","app/types.js","app/initial-state/users.js","app/users/users-reducers.js","app/all-reducers.js","app/user-active/active-user-reducer.js","app/post/post-reducer.js","app/comments/comments-reducer.js","app/user-active/login-action.js","app/common/navbar.js","app/home/home-container.js","app/user-active/login-container.js","app/users/sign-up-container.js","app/users/sign-up-action.js","app/profile/update-profile-container.js","app/profile/profile-updated-action.js","app/post-create/create-post-action.js","app/post-create/create-post-container.js","app/initial-state/posts.js","app/initial-state/comments.js","app/comments/action-add-comment.js","app/comments/comment-options-container.js","app/comments/action-add-like.js","app/comments/action-toggle-reply-thread-visibility.js","app/comments/comment-container.js","app/post/post-container.js","App.js","app/initial-state/index.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","user_Id","username","email","password","profile","occupation","education","experience","undefined","skills","hobbies","about","avatar","require","userId","Math","max","defaultUsers","map","u","combineReducers","users","state","action","type","types","concat","payload","id","activeUser","posts","history","push","condensedPost","post","parentId","childComments","likes","comments","c","find","newComment","user","NavBar","to","onClick","props","logout","React","Component","connect","dispatch","Login","Home","this","defaultAvatar","avatarStyling","float","height","width","background","backgroundSize","borderRadius","profileEntries","Object","entries","filter","e","key","toUpperCase","slice","toLowerCase","style","length","className","p","author","title","LoginForm","handleClick","login","alert","marginTop","name","placeholder","document","getElementById","value","SignupForm","repeatPassword","some","signUp","firstName","lastName","SignUp","UpdateProfile","submitProfileUpdate","getElementsByClassName","reduce","agg","input","updateProfile","f","defaultValue","ProfileUpdated","content","date","Date","now","toDateString","NewPostForm","createPost","bindActionCreators","CreatePost","peter","Users","ray","egon","winston","loremIpsum","split","generatePost","sort","a","b","floor","random","join","upToOneWeekAgo","n","from","loremIpsumLength","numberOfUsers","commentId","million","postObjects","postComments","generateComments","depth","siblings","siblingComments","s","initialSubstring","substring","comment","isVisible","newDate","postsWithComments","postObject","postComment","CommentOptions","toggleCommentCreationField","commentCreationField","target","parentNode","children","textarea","classList","toggle","focus","submit","addComment","parent","add","addLike","getFlattenedChildComments","commentTree","constructCommentTree","flatten","targetComment","childCommentIds","array","Array","isArray","toggleReplyThreadVisibility","firstChildId","firstChild","replyThread","descendents","d","includes","bind","String","AddComment","commentIds","ToggleReplyThreadVisibility","Comment","marginLeft","display","Post","scrollTo","postId","params","post_id","flattenedComments","word","toString","paragraph","i","defaultProps","basename","exact","path","component","store","createStore","allReducers","initialState","composeWithDevTools","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a10dd9eb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/PeterVenkman.a26c6862.jpg\";","module.exports = __webpack_public_path__ + \"static/media/RayStantz.7f453069.jpg\";","module.exports = __webpack_public_path__ + \"static/media/EgonSpengler.0c86467f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/WinstonZeddemore.6037466d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ninja.f889089d.jpg\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export default {\r\n    NEW_POST_ADDED: 'NEW_POST_ADDED',\r\n    NEW_USER_ADDED: 'NEW_USER_ADDED',\r\n    LOGGED_IN: 'LOGGED_IN',\r\n    PROFILE_UPDATED: 'PROFILE_UPDATED',\r\n    COMMENT_ADDED: 'COMMENT_ADDED',\r\n    LIKE_ADDED: 'LIKE_ADDED',\r\n    REPLY_THREAD_TOGGLED: 'REPLY_THREAD_TOGGLED'\r\n}\r\n","export default [\r\n    {\r\n        user_Id: 1,\r\n        username: 'Peter Venkman',\r\n        email: 'pvenkmnan@gb.com',\r\n        password: 'peter',\r\n        profile: {\r\n            occupation: \"Scientist, Ghostbuster\",\r\n            education: \"PhD in Psychology and Parapsychology\",\r\n            experience: undefined,\r\n            skills: undefined,\r\n            hobbies: undefined,\r\n            about: \"Born and raised in Brooklyn, New York. Originally, my professional interests were focused on paranormal phenomena like ESP, but did not  believe in ghosts until I actually saw one. From time to time I created inventions that helped the saved the day. I was once able to persuade the city mayor to release my team and me after being arrested, return our equipment and support our attempt to stop Gozer.\",\r\n            avatar: require('./images/PeterVenkman.jpg')\r\n        }\r\n    },\r\n    {\r\n        user_Id: 2,\r\n        username: 'Ray Stantz',\r\n        email: 'rstantz@gb.com',\r\n        password: 'ray',\r\n        profile: {\r\n            occupation: \"Scientist, Ghostbuster\",\r\n            education: \"PhD in Parapsychology - Columbia University\",\r\n            experience: undefined,\r\n            skills: \"Paranormal history, Metallurgy\",\r\n            hobbies: undefined,\r\n            about: \"I was once referred to as being the 'the heart of the Ghostbusters'. I have extensive knowledge of the Bible, but am an agnostic, since I've never actually met God. I was jointly responsible for pioneering the Ghostbusters' theories and designing and building the equipment used for catching and containing ghosts.\",\r\n            avatar: require('./images/RayStantz.jpg')\r\n        }\r\n    },\r\n    {\r\n        user_Id: 3,\r\n        username: 'Egon Spengler',\r\n        email: 'espengler@gb.com',\r\n        password: 'egon',\r\n        profile: {\r\n            occupation: \"Scientist, Ghostbuster\",\r\n            education: \"PhD in Parapsychology - Columbia University\",\r\n            experience: undefined,\r\n            skills: undefined,\r\n            hobbies: \"Collecting spores, molds and fungus\",\r\n            about: \"I am addicted to science, created much of our Ghostbuster equipment. The only toy I ever had was part of a Slinky, which I straightened out. I love sweets and candy and sleep an average of 14 minutes per day, leaving me a lot of time to work.\",\r\n            avatar: require('./images/EgonSpengler.jpg')\r\n        }\r\n    },\r\n    {\r\n        user_Id: 4,\r\n        username: 'Winston Zeddemore',\r\n        email: 'wzeddemore@tmnt.com',\r\n        password: 'winston',\r\n        profile: {\r\n            occupation: \"Egyptologist, Ghostbuster\",\r\n            education: \"PhD in Egyptology\",\r\n            experience: \"Construction\",\r\n            skills: undefined,\r\n            hobbies: undefined,\r\n            about: \"Before applying to the Ghostbusters, I attended Air Force Command ECM school, had a black belt in karate, and was a small arms expert. I do wonder if all these ghosts are a sign of the apocalypse. I really love New York!\",\r\n            avatar: require('./images/WinstonZeddemore.jpg')\r\n        }\r\n    }\r\n];","import types from \"../types\";\r\nimport defaultUsers from \"../initial-state/users\";\r\n\r\nlet userId = Math.max(...defaultUsers.map(u => u.user_Id));\r\n\r\nexport default function(state = [], action) {\r\n    switch(action.type) {\r\n        case types.NEW_USER_ADDED: \r\n            return state.concat({...action.payload, id: ++userId});\r\n\r\n        case types.PROFILE_UPDATED:\r\n            return state.map(u => u.user_Id === action.userId ? {...u, profile: action.payload} : u );\r\n        \r\n        default: \r\n            return state;   \r\n    }\r\n} ","import { combineReducers } from \"redux\";\r\nimport Users from './users/users-reducers';\r\nimport ActiveUser from './user-active/active-user-reducer';\r\nimport Posts from './post/post-reducer';\r\nimport Comments from './comments/comments-reducer';\r\n\r\nexport default combineReducers({\r\n        users: Users,\r\n        activeUser: ActiveUser,\r\n        posts: Posts,\r\n        comments: Comments\r\n})\r\n","import types from \"../types\";\r\n\r\nexport default function(state = null, action) {\r\n    switch(action.type) {\r\n        case types.LOGGED_IN: \r\n            return action.payload;\r\n\r\n        case types.NEW_USER_ADDED:\r\n            return action.payload;\r\n\r\n        // handling this action is handled both here (for immediate effect) as well as in the users (for permanent effect)\r\n        // Consider handling selecting the active user in such a way that a profile update does not need to be handled in both places\r\n        case types.PROFILE_UPDATED:\r\n            return {...state, profile: {...state.profile, ...action.payload}};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import types from \"../types\";\r\n\r\n// Initial State\r\n// const initialState = [\r\n//     {\r\n//         id: 'post_0',\r\n//         title: 'the quick brown fox',\r\n//         content: 'jumps over the lazy dog',\r\n//         author: 'Stephen Jukes',\r\n//         date: new Date(Date.now()).toDateString(),\r\n//         childComments: [],\r\n//         likes: 0,\r\n//         history: {history: 'history'}\r\n//     }\r\n// ];\r\n\r\nexport default function(state = [], action) {\r\n    const payload = action.payload;\r\n    \r\n    switch(action.type) {\r\n        case types.NEW_POST_ADDED:\r\n            payload.history.push(`/posts/${payload.id}`);\r\n            const { history, ...condensedPost } = payload;  // Removes history. For details, see: codeburst.io/use-es2015-object-rest-operator-to-omit-properties-38a3ecffe90\r\n            \r\n            return state.concat( condensedPost );\r\n\r\n        case types.COMMENT_ADDED:\r\n            return state.map( post => post.id === payload.parentId\r\n                ? { ...post, childComments: [...[payload.id], ...post.childComments] }\r\n                : post );\r\n\r\n        case types.LIKE_ADDED:\r\n            return state.map( post => post.id === action.payload \r\n                ? {...post, likes: post.likes += 1 }\r\n                : post )\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import types from \"../types\";\r\n\r\nexport default function(state = [], action) {\r\n    const payload = action.payload;\r\n    \r\n    switch(action.type) {\r\n        case types.COMMENT_ADDED:\r\n            return state\r\n                .map(c => c.id === payload.parentId\r\n                    ? { ...c, childComments: [...[payload.id], ...c.childComments] }\r\n                    : c)\r\n                .concat(payload);\r\n\r\n        case types.LIKE_ADDED:\r\n            return state.map( post => post.id === action.payload \r\n                ? {...post, likes: post.likes += 1 }\r\n                : post );\r\n\r\n        case types.REPLY_THREAD_TOGGLED:\r\n            return state.map(c => payload.find(newComment => c.id === newComment.id) || c);\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}","import types from \"../types\"\r\n\r\nexport default function(user) {\r\n    return {\r\n        type: types.LOGGED_IN,\r\n        payload: user\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Login from '../user-active/login-action';\r\n\r\n\r\nclass NavBar extends React.Component {\r\n    render() {\r\n        return (\r\n            <nav id=\"navbar\">\r\n                <ul>\r\n                    <li><Link to={\"/home\"}>Home</Link></li>\r\n                    <li><Link to={\"/create-post\"}>New post</Link></li>\r\n                    <li><Link to={\"/update-profile\"}>Update profile</Link></li>\r\n                </ul>\r\n                <ul>\r\n                    <li>Search</li>\r\n                    <li>\r\n                        <Link \r\n                            to={\"/login\"}\r\n                            onClick={() => this.props.logout(null)}\r\n                        >\r\n                                Log out\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    const logout = (user) => dispatch(Login(user));\r\n    return { logout };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(NavBar);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport NavBar from '../common/navbar';\r\n\r\nclass Home extends React.Component {\r\n    render() {\r\n        // REPEAT PATTERN IN OTHER CONTAINERS\r\n        const {user, posts} = this.props;\r\n        const defaultAvatar = require('../initial-state/images/ninja.jpg');\r\n\r\n        const avatarStyling = {\r\n            float: \"right\",\r\n            height: \"200px\",\r\n            width: \"200px\",\r\n            background: `url(${user.profile.avatar || defaultAvatar}) center center`,\r\n            backgroundSize: \"cover\",\r\n            borderRadius: \"5px\"\r\n        }\r\n        const profileEntries = Object.entries(user.profile)\r\n            .filter(e => e[0] !== \"avatar\" && e[1])\r\n            .map(e => \r\n                <li key={user.id}>\r\n                    <h4>{e[0][0].toUpperCase() + e[0].slice(1).toLowerCase() + \": \" }</h4>\r\n                    <p>{e[1]}</p>\r\n                </li>)\r\n\r\n        return (\r\n            <div id=\"home\">\r\n                <NavBar />\r\n                <section id=\"profile\">\r\n                    <h1>{user.username}</h1>\r\n\r\n                    <div id=\"avatar\" style={ avatarStyling }></div>\r\n\r\n                    <ul>\r\n                        { profileEntries.length > 0 \r\n                            ? profileEntries \r\n                            : <span className=\"deemphasize\">Express yourself - add your profile details</span> }\r\n                    </ul>\r\n                </section>\r\n                \r\n                <section id=\"top-posts\">\r\n                    <h2>Your top posts</h2>\r\n                    <ul>\r\n                        { posts\r\n                            .filter(p => p.author.username === user.username)\r\n                            .map(p => \r\n                                <li key={p.id} >\r\n                                    <Link to={`posts/${p.id}`} className=\"listedPost\">\r\n                                        {p.title}\r\n                                    </Link>\r\n                                </li>) \r\n                        }\r\n                    </ul>\r\n                </section>\r\n\r\n                <section id=\"post-suggestions\">\r\n                    <h2>Posts you might be interested in:</h2>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nHome.propTypes = {\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.activeUser,\r\n        posts: state.posts\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Home);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport Login from './login-action';\r\nimport defaultUsers from '../initial-state/users';\r\n\r\nclass LoginForm extends React.Component {\r\n\r\n    handleClick = (username, password) => {\r\n        const user = this.props.users.find(u => \r\n            u.username === username && \r\n            u.password === password);\r\n\r\n        if (!user) {\r\n            alert('User not found. Please try again.');\r\n            return;\r\n        };\r\n\r\n        this.props.history.push('/home');\r\n        return this.props.login(user);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"login\" className=\"route\">\r\n                <section \r\n                    className=\"demo\"\r\n                    style={{\r\n                        marginTop: -20 * defaultUsers.length - 90  //-20 = height of each item, -90 = heading + padding\r\n                    }}\r\n                >\r\n                    <h4>Log in as:</h4>\r\n                    <ul>\r\n                        {defaultUsers.map(u => \r\n                            <li \r\n                                key={u.user_Id}\r\n                                onClick={() => this.handleClick(u.username, u.password)}    \r\n                            >\r\n                                <a>{u.username}</a>\r\n                                \r\n                            </li>    \r\n                        )}\r\n                    </ul>\r\n\r\n                    <div className=\"speech-tail\"></div>\r\n                </section>\r\n\r\n                <section>\r\n                    <h2>Login Details</h2>\r\n                    <input id=\"login-username\" name=\"username\" type=\"text\" placeholder=\"Username\" />\r\n                    <input id=\"login-password\" name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n\r\n                    <button onClick={() => this.handleClick(\r\n                        document.getElementById('login-username').value,\r\n                        document.getElementById('login-password').value\r\n                    )}>\r\n                        Login\r\n                    </button>\r\n\r\n                    <br/>\r\n                    <Link to={\"/sign-up\"}>Sign up</Link>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLoginForm.propTypes = {\r\n    users: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            username: PropTypes.string.isRequired,\r\n            email: PropTypes.string.isRequired,\r\n            password: PropTypes.string.isRequired\r\n        })),\r\n\r\n    login: PropTypes.func.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.users\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    const login = (username) => dispatch(Login(username));\r\n    return { login };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport SignUp from './sign-up-action';\r\n\r\nclass SignupForm extends React.Component {\r\n    handleClick = (username, email, password, repeatPassword) => {\r\n        const users = this.props.users;\r\n\r\n        if (users.some(u => u.username === username)) {\r\n            alert ('Username already exists');\r\n            return;\r\n        }\r\n            \r\n        if (users.some(u => u.email === email)) {\r\n            alert ('Email already exists');\r\n            return;\r\n        }\r\n            \r\n        if (password !== repeatPassword) {\r\n            alert ('Passwords do not match');\r\n            return;\r\n        }\r\n            \r\n        this.props.history.push('/home');\r\n        return this.props.signUp(username, email, password);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section id=\"sign-up\" className=\"route\">\r\n                <h2>Sign Up:</h2>\r\n                <div>\r\n                    <input id=\"signup-username\" name=\"firstName\" type=\"text\" placeholder=\"First Name\" />\r\n                    <input id=\"signup-email\" name=\"email\" type=\"email\" placeholder=\"Email\" />\r\n                    <input id=\"signup-password\" name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n                    <input id=\"signup-repeatPassword\" name=\"repeatPassword\" type=\"password\" placeholder=\"Repeat Password\" />\r\n    \r\n                    <button \r\n                        type=\"submit\"\r\n                        onClick={() => this.handleClick(\r\n                                document.getElementById('signup-username').value,\r\n                                document.getElementById('signup-email').value,\r\n                                document.getElementById('signup-password').value,\r\n                                document.getElementById('signup-repeatPassword').value\r\n                        )}>\r\n                        Submit\r\n                    </button>\r\n    \r\n                </div>\r\n            </section>\r\n    \r\n        )\r\n    }\r\n}\r\n\r\nSignupForm.propTypes = {\r\n    users: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            username: PropTypes.string.isRequired,\r\n            email: PropTypes.string.isRequired,\r\n            password: PropTypes.string.isRequired\r\n        })),\r\n\r\n    signUp: PropTypes.func.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.users\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    const signUp = (firstName, lastName, email, password, repeatPassword) => {\r\n        dispatch(SignUp(firstName, lastName, email, password, repeatPassword))\r\n    }\r\n    \r\n    return { signUp };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupForm);\r\n","import types from \"../types\"\r\n\r\nexport default function(username, email, password) {\r\n    const user = {\r\n        username: username,\r\n        email: email,\r\n        password: password,\r\n        profile: {}\r\n    }\r\n    \r\n    return {\r\n        type: types.NEW_USER_ADDED,\r\n        payload: user\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport NavBar from '../common/navbar';\r\nimport ProfileUpdated from './profile-updated-action';\r\n\r\nclass UpdateProfile extends React.Component {\r\n    submitProfileUpdate = () => {\r\n        const userId = this.props.user.user_Id;\r\n        const profile = [...document.getElementsByClassName('profile-field')]\r\n            .reduce((agg, input) => {\r\n                agg[input.name] = input.value;\r\n                return agg;\r\n            }, {} );\r\n\r\n        this.props.history.push('/home');\r\n        this.props.updateProfile(userId, profile);\r\n    }\r\n\r\n    render()  {\r\n        const profileFields = [ 'occupation','education','experience','skills','hobbies','about','avatar' ];\r\n        const profile = this.props.user.profile;\r\n\r\n        return (\r\n            <div id=\"update-profile\">\r\n                <NavBar />\r\n                <h1>Update Profile</h1>\r\n\r\n                <ul>\r\n                    {\r\n                        profileFields.map(f => \r\n                            <li key={f}>\r\n                                <label>{f[0].toUpperCase() + f.slice(1)}</label>\r\n                                <input \r\n                                    id={ f } \r\n                                    className=\"profile-field\" \r\n                                    type=\"text\" name={ f } \r\n                                    defaultValue={ profile[f] } \r\n                                />\r\n                            </li>)\r\n                    }\r\n                </ul>\r\n\r\n                <button onClick={ () => this.submitProfileUpdate() }>\r\n                    Submit\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.activeUser,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    const updateProfile = (userId, profile) => dispatch(ProfileUpdated(userId, profile));\r\n    return { updateProfile };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdateProfile)","import types from \"../types\";\r\n\r\nexport default function(userId, profile) {\r\n    return {\r\n        type: types.PROFILE_UPDATED,\r\n        userId: userId,\r\n        payload: profile\r\n    }\r\n}","import types from \"../types\";\r\n\r\nlet id = 0;\r\n\r\nexport default function(title, content, author, history) {\r\n    const post = {\r\n        id: `post_${id++}`,\r\n        title: title,\r\n        content: content,\r\n        author: author,\r\n        date: new Date(Date.now()).toDateString(),\r\n        childComments: [],\r\n        likes: 0,\r\n        history: history\r\n    }\r\n\r\n    return {\r\n        type: types.NEW_POST_ADDED,\r\n        payload: post\r\n    }\r\n}","import React from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport NavBar from '../common/navbar';\r\nimport CreatePost from './create-post-action';\r\n\r\nclass NewPostForm extends React.Component {\r\n    handleClick = (title, content) => {\r\n        const history = this.props.history;\r\n        return this.props.createPost(title, content, this.props.user, history);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"new-post-form\">\r\n                <NavBar />\r\n                <h1>New Post</h1>\r\n\r\n                <input id=\"title\" type=\"text\" name=\"title\" placeholder=\"Title\" />\r\n                <textarea id=\"new-post\" placeholder=\"Write your post here ...\"></textarea>\r\n\r\n                <button onClick={() => this.handleClick(\r\n                    document.getElementById(\"title\").value,\r\n                    document.getElementById(\"new-post\").value\r\n                    )}\r\n                >\r\n                    Submit\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nNewPostForm.propTypes = {\r\n    user: PropTypes.string.isRequired,\r\n    createPost: PropTypes.func.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.activeUser,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    // MAKE CONSISTENT WITH OTHER SIMILAR FUNCTIONS\r\n    return bindActionCreators({\r\n        createPost: CreatePost\r\n    }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewPostForm)\r\n","import Users from './users';\r\n// from https://www.hollywoodreporter.com/lists/ghostbusters-cast-now-bill-murray-dan-aykroyd-more-1215600\r\n// from http://www.mtv.com/news/1916081/103-ghostbusters-quotes/\r\n\r\nconst \r\n    peter = Users[0],\r\n    ray = Users[1],\r\n    egon = Users[2],\r\n    winston = Users[3];\r\n    \r\n\r\nconst numberOfParagraphs = 4;\r\nconst loremIpsum = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sodales, sem sit amet convallis mattis, eros augue venenatis sapien, ut convallis neque massa ac neque. Proin vitae varius nulla. Praesent sit amet nunc mauris. Curabitur interdum ligula dolor, sit amet dictum arcu suscipit vitae. Suspendisse gravida elit sit amet sapien mattis, eleifend faucibus lorem tincidunt. Cras at suscipit sem, sed malesuada orci. Aenean vehicula, augue id porttitor posuere, dui sapien suscipit nulla, id euismod mi felis at diam. Integer lobortis posuere tortor, lacinia lobortis ex.\\nDonec suscipit sodales est, eget auctor nisl tristique cursus. Donec imperdiet lectus vel placerat volutpat. Cras vitae cursus enim. Nam quam sem, ullamcorper non nunc non, sollicitudin tempus tellus. Nulla malesuada imperdiet leo ac tincidunt. Aliquam erat volutpat. Maecenas sodales sit amet ipsum eu fringilla. Suspendisse ullamcorper iaculis metus, ut commodo velit blandit at. Sed lobortis iaculis posuere.\\nCras non feugiat velit, ac tristique libero. Pellentesque dolor sem, porttitor sit amet eros at, cursus venenatis nibh. Curabitur hendrerit elit id hendrerit volutpat. Phasellus efficitur risus justo, at varius orci vulputate ac. Donec at augue sed magna maximus volutpat. Proin ac hendrerit erat. Proin nunc mi, dapibus eget dolor id, ultrices tincidunt magna. Morbi ut auctor orci. Sed tempus neque non pretium convallis. Quisque convallis quam elit, non luctus enim ultrices ac. Donec interdum feugiat dolor, ac aliquam arcu accumsan at. Nulla ligula libero, congue sit amet placerat vitae, luctus ac odio. Etiam a dui vitae magna mollis tincidunt id sit amet orci. Donec efficitur blandit finibus.\\nNullam ultrices nec ex sit amet ornare. Duis sit amet dictum sem. Donec blandit dapibus felis, quis tempus lectus dignissim ac. Maecenas volutpat nisl mollis sagittis maximus. Aenean pulvinar nunc orci, ut interdum lorem mollis eu. Phasellus sed pulvinar urna, sed condimentum massa. Aenean tempus, lacus in eleifend condimentum, magna lectus mollis magna, et tristique ante sapien eu lectus. Aliquam erat volutpat. Aliquam vel consequat massa.\\nAliquam commodo odio sed diam malesuada, id posuere libero dignissim. Duis elementum massa interdum elit iaculis ultrices. Cras malesuada arcu et nulla malesuada rutrum. Duis molestie diam id felis maximus, ac dictum lectus molestie. Praesent vehicula in augue eget fermentum. Cras vitae tortor et tortor venenatis luctus. In viverra consequat ante et tristique. In ultricies erat imperdiet quam pulvinar eleifend. Curabitur eget ultrices libero.\\nSed auctor elit dolor, eget sagittis lectus accumsan at. Nunc justo erat, vestibulum non suscipit eu, tristique ac ipsum. Praesent at dui nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aenean ultricies eget magna nec ornare. Vivamus egestas nisl a nunc fermentum luctus. Mauris nec quam tortor. Integer consectetur consectetur efficitur. Phasellus scelerisque pellentesque magna, et pharetra turpis molestie sit amet. Nunc imperdiet ipsum in massa aliquam, nec hendrerit nibh volutpat. Integer maximus metus quam, sit amet scelerisque eros euismod nec. Donec vehicula sapien vel sollicitudin cursus. Maecenas commodo sit amet tortor eget tempor. Cras interdum feugiat dui ut tincidunt. Aliquam consequat nulla elit, quis mollis ex accumsan at. Integer suscipit ullamcorper dictum.\\nVestibulum ac sollicitudin sapien. Etiam egestas orci non ornare luctus. Donec ultrices congue ante. Maecenas sagittis, urna sit amet fermentum pulvinar, urna est dictum risus, a luctus diam purus et libero. Proin laoreet cursus cursus. Proin at laoreet enim, in scelerisque metus. Cras et ante ante. Aenean tincidunt aliquam quam, et congue leo pharetra quis. Curabitur eu ante vel leo viverra gravida. Suspendisse imperdiet feugiat sem sit amet venenatis. Proin consequat enim in dolor pellentesque mattis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum et leo massa. Donec a scelerisque mauris.\\nInteger suscipit vehicula velit, sodales tristique odio feugiat id. Duis ullamcorper massa vel enim eleifend sodales. Curabitur eu pellentesque sapien, ut ultrices justo. Donec dignissim, tortor ac elementum porttitor, dui purus dignissim sapien, in tempus diam sapien at velit. Phasellus at diam semper, ultrices metus ut, accumsan enim. Aliquam ultricies leo ut est dictum bibendum. In vel mauris lectus. Duis et lacus sit amet ante tempus bibendum. Proin at vehicula sem. Morbi ac tellus mattis leo faucibus porttitor vitae ut massa. Etiam ac sem non sem congue finibus mattis eget massa. Aliquam aliquet nibh nulla, vitae pretium leo accumsan vel.\\nAliquam quis erat sit amet libero pellentesque aliquam. Duis lorem sapien, luctus vitae risus non, pharetra aliquam quam. Nulla ullamcorper arcu eget eros convallis vehicula. Aliquam imperdiet arcu vel dapibus volutpat. Nulla vestibulum orci quis scelerisque dapibus. Vivamus euismod dui non mauris commodo, eget porttitor orci ultricies. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Duis molestie maximus elit et volutpat. Phasellus malesuada tellus vitae elit pharetra, quis euismod orci varius. Praesent iaculis elit eget magna venenatis, sed consequat nulla malesuada. Vestibulum et nisl volutpat, elementum ipsum in, imperdiet sem. Sed vestibulum cursus est, at lobortis risus tincidunt sit amet. Morbi porttitor lobortis tellus ut viverra. Mauris a velit a erat tempus rhoncus ac interdum elit. Etiam suscipit ultricies augue, eu sodales ligula porta quis.\\nIn hac habitasse platea dictumst. Sed mattis arcu eget eros pretium, ac consequat nibh porttitor. Sed ipsum diam, faucibus sed condimentum quis, vulputate eu magna. Nulla at interdum odio. Ut porttitor quis ante eu luctus. Sed finibus ligula id metus convallis, non mattis tellus bibendum. Ut quam dolor, vehicula in lorem vitae, tincidunt facilisis nisl. Donec pellentesque volutpat tortor, condimentum rutrum quam. Integer dapibus felis ante, ac mattis augue posuere eget. Etiam in egestas risus, finibus pharetra tortor. Mauris id aliquam nisi, vitae sagittis nunc. Phasellus quam justo, egestas eu erat at, volutpat vestibulum tellus. Nullam vulputate luctus tellus, imperdiet iaculis velit porta a. Maecenas congue, turpis eget imperdiet dictum, tortor nisl dictum nisi, ut feugiat justo nulla nec mi. Maecenas luctus sem vel tortor pharetra, nec vulputate tortor egestas.\\nVestibulum ac porta massa. Pellentesque sagittis risus feugiat, feugiat quam sed, feugiat tellus. Vivamus vel urna ut nisl sollicitudin malesuada. Nam ullamcorper consectetur rutrum. Aenean placerat purus non leo iaculis, vel blandit metus convallis. Suspendisse quis ligula est. Cras ultrices sapien in diam consectetur convallis. In eget lectus ac ante blandit venenatis eu id dolor. Vivamus magna tortor, molestie a tortor non, pellentesque commodo elit. Nullam facilisis nulla et est pulvinar aliquam. Donec bibendum sollicitudin sapien, quis molestie nisi cursus sit amet. Donec ante risus, scelerisque a placerat vitae, placerat in ante. Duis a hendrerit nibh, id pretium quam. Aenean semper euismod congue.\\nPhasellus commodo dignissim quam, in feugiat nisi malesuada quis. Nulla diam magna, malesuada non auctor quis, ornare vel lorem. Sed consectetur neque sed lacus interdum egestas. Sed dolor nulla, ultricies vel pretium feugiat, malesuada vel justo. Suspendisse in semper erat. Morbi gravida sodales felis quis facilisis. Nullam molestie, quam nec imperdiet fringilla, velit mauris accumsan neque, in pharetra purus nisi ac urna.\\nAenean sollicitudin, turpis ac tristique pellentesque, purus felis efficitur tortor, eget venenatis libero libero nec risus. Praesent consequat, sapien vel imperdiet mattis, sapien nunc suscipit leo, et commodo purus odio et nunc. Nulla faucibus egestas mi vel mattis. Donec sed ex porttitor, bibendum est non, lacinia nisl. Duis mattis sollicitudin ornare. Maecenas quis rutrum ipsum. In molestie diam id libero lacinia, a maximus nisi aliquet.\\nNam egestas aliquam rutrum. Donec tincidunt lacinia suscipit. Integer ut mauris id dolor pharetra facilisis vel eget ipsum. Nunc et odio neque. Aliquam ullamcorper sem sem, at tincidunt turpis volutpat non. In sed quam ac metus viverra molestie. Praesent eu pellentesque magna, id vestibulum ipsum. Quisque eu nisi ac sem commodo pretium nec sed tellus. Etiam fermentum risus neque. In at tempor dui, eu sodales ante. Donec non rhoncus justo, ut dignissim lorem. Nam quis porta purus. Phasellus tempus consectetur porta. Donec elit risus, viverra a finibus non, ornare quis lorem. Phasellus sit amet ipsum fringilla, ullamcorper leo eget, accumsan urna. Etiam feugiat molestie finibus.\\nSed varius, mauris eu efficitur pulvinar, diam tortor pulvinar quam, eget pretium massa sem et mauris. Maecenas cursus lorem cursus, aliquam enim ut, auctor leo. Quisque ullamcorper justo sem, efficitur gravida tortor imperdiet aliquet. Nam consequat porttitor urna. Morbi a hendrerit nisi. Fusce pulvinar consectetur nunc non tincidunt. Sed elementum justo a lorem molestie, at auctor enim volutpat. In varius arcu vel consectetur congue. Phasellus molestie, ipsum fermentum laoreet pretium, tellus quam iaculis dolor, in ullamcorper tortor massa ac tellus. Phasellus eu dignissim metus.\\nInteger a erat est. Maecenas eget nisi ante. Donec ac pulvinar odio. Fusce semper lacinia cursus. Vestibulum volutpat sed tortor volutpat varius. Ut non diam gravida felis ultricies mollis nec vel purus. Quisque vel porta neque. Praesent ullamcorper dui ut risus suscipit ultricies.\\nMauris mauris orci, elementum quis est eget, elementum pharetra nulla. Donec ac faucibus est, quis commodo lorem. Donec a augue augue. Nulla mollis a neque vitae faucibus. Duis tempus arcu quis mollis mattis. Aenean rutrum eros ornare, consectetur purus at, fermentum purus. Quisque vel erat mattis, aliquam ex vel, vehicula arcu. Integer mattis ante turpis, mattis condimentum felis tempor eget. Duis sagittis arcu ac ligula convallis, in ullamcorper risus dictum. Fusce a cursus nisl, eu finibus lacus. Mauris faucibus, nisl vitae facilisis vehicula, lorem felis consequat sem, eu sodales diam neque ut est. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Ut cursus dapibus erat in consequat. Nunc vestibulum elementum erat, ut aliquam augue iaculis ut.\\nProin quis ligula quam. Nullam ultricies urna sed interdum ultricies. Cras nec interdum massa. Aenean rhoncus massa sed felis blandit, et pharetra nisl venenatis. In elementum nibh non ipsum egestas, eget porta lacus iaculis. Duis quis odio ac erat ultrices rhoncus. Quisque sed mauris sed nulla vulputate scelerisque. Vestibulum sodales porttitor urna, ac ultrices tellus vestibulum quis. Sed nec nibh sagittis, scelerisque urna ut, efficitur metus. Nulla facilisi. Praesent dolor purus, commodo sed lobortis vitae, malesuada at leo. Fusce laoreet aliquet neque non feugiat.\\nDuis imperdiet elit quis risus accumsan mattis. Suspendisse vestibulum molestie laoreet. Proin ultricies justo vel nibh dictum, sit amet feugiat lorem egestas. Mauris erat purus, cursus bibendum sagittis a, commodo ac nibh. Nunc porttitor quam vel dictum consectetur. Nullam quis turpis nec eros consectetur egestas. Suspendisse eu lectus eget lacus congue aliquet. Donec scelerisque vel leo sed molestie.\\nMauris id leo nec arcu sodales dapibus. Praesent luctus rhoncus nunc, vel commodo arcu commodo id. Suspendisse eu arcu gravida, rhoncus enim ac, ultricies sem. Phasellus in neque sed nisi placerat elementum ac nec lorem. Proin porta laoreet urna quis vulputate. Etiam eu est nec justo tristique cursus. Curabitur non fringilla urna. Duis et ipsum malesuada, faucibus lacus eu, pulvinar tellus. Donec suscipit iaculis vestibulum.\"\r\n    .split('\\n');\r\n\r\nfunction generatePost() {\r\n    return loremIpsum\r\n        .sort((a, b) => Math.floor(random(-1, 1)))\r\n        .slice(0, random(2, numberOfParagraphs))\r\n        .join('\\n');\r\n}\r\n\r\nfunction upToOneWeekAgo() {\r\n    return upToMillisecondsAgo(604800000);\r\n} \r\n\r\nfunction upToMillisecondsAgo(n) {\r\n    return new Date(new Date() - random(0, n));\r\n} \r\n\r\nfunction random(from, to) {\r\n    return Math.floor(Math.random() * (to - from) + from);\r\n}\r\n\r\n//const loremIpsum = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean elementum cursus quam, maximus fringilla arcu volutpat eget. Praesent nec tincidunt nulla, eget ornare purus. Sed auctor placerat dapibus. Praesent volutpat leo sed augue commodo, aliquet tincidunt ligula volutpat. Vivamus varius eu tellus sit amet tincidunt. Sed vitae euismod nulla. Quisque mollis aliquet vulputate. Proin gravida fermentum lectus in finibus. Quisque facilisis libero sit amet imperdiet varius. Donec justo ipsum, dignissim eu dapibus malesuada, porta molestie est. Nulla sem augue, interdum a mi a, ullamcorper commodo orci. Duis non iaculis massa. Aliquam auctor velit at auctor varius. Donec sit amet scelerisque nisl, eget efficitur lacus.\\nCurabitur molestie elit mi. Nulla lacinia condimentum libero at sodales. Proin porta risus metus, vitae venenatis ex volutpat in. Nam accumsan fermentum augue. Sed et orci vel augue interdum viverra. In in sapien et sapien dignissim tristique. In at aliquam orci, eu efficitur tortor. Aliquam id sagittis nibh, vitae rutrum tortor. Vestibulum feugiat, mi in pellentesque ullamcorper, felis lacus volutpat nisl, in accumsan magna tortor ac diam.\\nAliquam et tincidunt mauris. Mauris commodo malesuada neque, quis ultricies justo auctor eget. Morbi sed diam nibh. Vivamus sit amet nisl at libero tristique porttitor eu posuere nunc. Sed egestas diam eget ligula suscipit placerat. Fusce maximus interdum facilisis. Ut faucibus eleifend ligula, a tempus lacus auctor quis. Pellentesque accumsan porttitor erat. Nam rhoncus lacinia nulla sed vehicula. Morbi condimentum mauris a tortor tristique feugiat quis quis tellus.\"\r\n\r\n\r\nexport default [\r\n    { \r\n        id: \"post_1\",\r\n        title: \"Drop everything, Venkman. We got one.\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 1,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_2\",\r\n        title: \"Egon, somehow this reminds me of the time you tried to drill a hole in your head. Do you remember that?\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 2,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_3\",\r\n        title: \"Have you or any member of your family ever been diagnosed schizophrenic or mentally incompetent?\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 3,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_5\",\r\n        title: \"I'll call that a big yes.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 5,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_6\",\r\n        title: \"Spengler, are you serious about actually catching a ghost?\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 6,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_7\",\r\n        title: \"I'm always serious.\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 7,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_10\",\r\n        title: \"I collect spores, molds, and fungus.\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 10,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_12\",\r\n        title: \"I'm gonna go for broke. I am madly in love with you.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 12,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_16\",\r\n        title: \"He slimed me. I feel so funky.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 16,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_17\",\r\n        title: \"Spengler! I'm with Venkman! He got slimed!\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 17,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_18\",\r\n        title: \"That's great, Ray! Save some for me!\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 18,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_19\",\r\n        title: \"Don't. Cross. The streams. It would be bad.\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 19,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_20\",\r\n        title: \"Nice shooting, Tex!\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 20,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_21\",\r\n        title: \"We came! We saw! We kicked its ass!\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 21,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_22\",\r\n        title: \"No job is too big, no fee is too big.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 22,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_26\",\r\n        title: \"Beautiful. You're hired.\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 26,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_29\",\r\n        title: \"No.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 29,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_31\",\r\n        title: \"Because you did not use the magic word.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 31,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_33\",\r\n        title: \"Please!\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 33,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_42\",\r\n        title: \"What a lovely singing voice you must have.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 42,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_43\",\r\n        title: \"Please come down.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 43,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_49\",\r\n        title: \"I don't think he's human.\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 49,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_52\",\r\n        title: \"Yes, have some.\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 52,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_55\",\r\n        title: \"She says she's the Gatekeeper. Does that make sense to you?\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 55,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_57\",\r\n        title: \"Oh, we have to get these two together.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 57,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_58\",\r\n        title: \"Bad news, honey. I have to go to work.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 58,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_59\",\r\n        title: \"Don't. Shut it. Off. I'm warning you.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 59,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_60\",\r\n        title: \"My friend, don't be a jerk.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 60,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_64\",\r\n        title: \"YOUR MOTHER!!!\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 64,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_65\",\r\n        title: \"Ray pretend for a moment that I don't know anything about metallurgy, engineering, or physics  and just tell me what the hell is going on.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 65,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_66\",\r\n        title: \"You never studied.\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 66,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_67\",\r\n        title: \"Your girlfriend lives in the corner penthouse of Spook Central.\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 67,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_68\",\r\n        title: \"She's not my girlfriend. I find her interesting because she's a client  and because she sleeps above her covers. FOUR. FEET above her covers! She barks! She drools! She claws!\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 68,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_69\",\r\n        title: \"Are we actually gonna go before a federal judge and tell him that some moldy Babylonian god is going to drop in on Central Park West, and start tearing up the city?\",\r\n        content: generatePost(),\r\n        author: winston,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 69,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_70\",\r\n        title: \"Sumerian  not Babylonian.\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 70,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_71\",\r\n        title: \"Yeah. Big difference.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 71,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_74\",\r\n        title: \"Everything was fine with our system until the power grid was shut off by dickless here.\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 74,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_77\",\r\n        title: \"Yes, it's true.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 77,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_79\",\r\n        title: \"I'm Winston Zeddemore. I've only been with the company for a couple of weeks, but these things are real. Since I joined these men, I've seen sh-- that'll turn you white.\",\r\n        content: generatePost(),\r\n        author: winston,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 79,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_80\",\r\n        title: \"Fire and brimstone coming down from the skies! Rivers and seas boiling!\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 80,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_81\",\r\n        title: \"Forty years of darkness! Earthquakes! Volcanoes!\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 81,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_82\",\r\n        title: \"The dead rising from the grave!\",\r\n        content: generatePost(),\r\n        author: winston,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 82,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_83\",\r\n        title: \"Human sacrifice! Dogs and cats, living together! Mass hysteria!\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 83,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_84\",\r\n        title: \"When we get to 20, tell me, because I'm gonna throw up.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 84,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_85\",\r\n        title: \"Okay. So she's a dog.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 85,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_87\",\r\n        title: \"...No?\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 87,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_89\",\r\n        title: \"Ray, when someone asks you if you're a God, you say yes!\",\r\n        content: generatePost(),\r\n        author: winston,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 89,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_90\",\r\n        title: \"Alright! This chick is toast!\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 90,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_91\",\r\n        title: \"Let's show this prehistoric bitch how we do things downtown.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 91,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_93\",\r\n        title: \"I couldn't help it... it just popped in there!\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 93,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_94\",\r\n        title: \"...it's the Stay Puft Marshmallow Man.\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 94,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_95\",\r\n        title: \"There's something you don't see every day.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 95,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_95\",\r\n        title: \"I tried to think of the most harmless thing. Something I loved from my childhood. Something that could never ever possibly destroy us. Mr. Stay Puft!\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 95,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_96\",\r\n        title: \"We've been going about this all wrong. This Mr. Stay Puft's okay! He's a sailor, he's in New York... if we get this guy laid, we won't have any trouble!\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 96,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_97\",\r\n        title: \"I have a radical idea. We cross the streams.\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 97,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_98\",\r\n        title: \"See you on the other side, Ray.\",\r\n        content: generatePost(),\r\n        author: peter,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 98,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_100\",\r\n        title: \"We're the Ghostbusters.\",\r\n        content: generatePost(),\r\n        author: ray,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 100,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_102\",\r\n        title: \"We'd like to get a sample of your brain tissue.\",\r\n        content: generatePost(),\r\n        author: egon,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 102,\r\n        history: null\r\n    },\r\n    { \r\n        id: \"post_103\",\r\n        title: \"I love this town!\",\r\n        content: generatePost(),\r\n        author: winston,\r\n        date: upToOneWeekAgo(),\r\n        childComments: [],\r\n        likes: 103,\r\n        history: null\r\n    }\r\n]","import users from './users';\r\nimport posts from './posts';\r\n//import moment from 'moment-es6';\r\n\r\nlet maxDepth = 3;\r\nlet maxSiblings = 5;\r\nlet loremIpsum = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin cursus pharetra nibh, at pellentesque justo rhoncus a. Integer semper felis nec ultricies dignissim. Ut rutrum ipsum ut tortor vulputate, ultrices vehicula neque eleifend. Nam dolor est, volutpat a fringilla congue, lobortis a ligula. Curabitur at fermentum ex. Vestibulum sagittis est vel massa faucibus vestibulum. Maecenas in lacus non lorem vehicula aliquam. Sed euismod magna ut lectus iaculis\"\r\nlet loremIpsumLength = loremIpsum.length;\r\nlet numberOfUsers = users.length\r\nlet commentId = 0;\r\n\r\nfunction generateComments(depth, siblings, parentId, date) {\r\n    let siblingComments = [];\r\n\r\n    for (let s = 0; s < random(0, siblings); s++) {\r\n        let id = `comment_${commentId++}`;\r\n        let initialSubstring = loremIpsum.substring(0, random(0, loremIpsumLength));\r\n        let content = initialSubstring.substring(random(0, initialSubstring.length), initialSubstring.length);\r\n    \r\n        let comment = [{\r\n            id: id,\r\n            content: content,\r\n            author: users[random(0, numberOfUsers)],\r\n            date: date,\r\n            parentId:  parentId,\r\n            likes: random(1, 1000),\r\n            childComments: [],\r\n            isVisible: true\r\n          }];\r\n    \r\n        if (depth === 0 || depth < random(0, maxDepth)) return comment;\r\n\r\n        let newDate = new Date(date - random(million(3), million(500)));\r\n        siblingComments = siblingComments.concat([...comment, ...generateComments(depth - 1, siblings , id, newDate)]);\r\n    }\r\n\r\n    return siblingComments;\r\n}\r\n\r\nfunction random(from, to) {\r\n    return Math.floor(Math.random() * (to - from) + from);\r\n}\r\n\r\nfunction million(n) {\r\n    return n * 1000000;\r\n}\r\n\r\nconst postObjects = posts.map(p => { \r\n        const postComments = generateComments(maxDepth, maxSiblings, p.id, p.date);\r\n        return {\r\n            post: {...p, childComments: postComments.filter(c => c.parentId === p.id).map(c => c.id)},\r\n            postComments: postComments\r\n        } });\r\n\r\nconst postsWithComments = postObjects.map(p => p.post);\r\nconst comments = postObjects\r\n    .map(postObject => postObject.postComments\r\n        .map(postComment => { \r\n            return {\r\n                ...postComment, \r\n                childComments: postObject.postComments\r\n                    .filter(c => c.parentId === postComment.id)\r\n                    .map(c => c.id) }}))\r\n    .reduce((agg, postComments) => agg.concat(postComments));\r\n\r\nexport { postsWithComments, comments };","import types from \"../types\";\r\nimport { comments } from \"../initial-state/comments\";\r\n\r\nlet id = comments.length;\r\n\r\nexport default function(content, user, parentId) {\r\n    const isVisible = {\r\n        'post': true,\r\n        'comment': true\r\n    }\r\n\r\n    const comment = {\r\n        id: `comment_${id++}`,\r\n        content: content,\r\n        author: user,\r\n        date: new Date(Date.now()), //.toDateString(),\r\n        parentId: parentId,\r\n        likes: 0,\r\n        childComments: [],\r\n        isVisible: isVisible[String(parentId).match(/[A-Za-z]+/)]\r\n    }\r\n\r\n    return {\r\n        type: types.COMMENT_ADDED,\r\n        payload: comment\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\n// import PropTypes from 'prop-types';\r\nimport AddComment from './action-add-comment';\r\nimport AddLike from './action-add-like';\r\nimport ToggleReplyThreadVisibility from './action-toggle-reply-thread-visibility';\r\n\r\nclass CommentOptions extends Component {\r\n    toggleCommentCreationField = e => {\r\n        const commentCreationField = [...e.target.parentNode.children][3];  // refactor to find by classname\r\n        const textarea = commentCreationField.children[0];                  // refactor to find by classname\r\n\r\n        commentCreationField.classList.toggle('hidden');\r\n        textarea.value = ''\r\n        textarea.focus();\r\n    }\r\n\r\n    submit = e => {\r\n        const {addComment, user, parent} = this.props;\r\n        const commentCreationField = e.target.parentNode;\r\n        const textarea = [...commentCreationField.children][0];             // refactor to find by classname\r\n        const content = textarea.value;\r\n\r\n        if (content === '') alert('No content to add');\r\n\r\n        textarea.value = '';\r\n        commentCreationField.classList.add('hidden');\r\n\r\n        return addComment(content, user, parent.id); \r\n    }\r\n\r\n    addLike = () => {\r\n        const {addLike, parent} = this.props;\r\n        return addLike(parent.id);\r\n    }\r\n\r\n    getFlattenedChildComments = (comments, commentId, depth) => {\r\n        const commentTree = this.constructCommentTree(comments, commentId, depth);\r\n        return this.flatten(commentTree);\r\n    }\r\n\r\n    constructCommentTree = (comments, commentId, depth) => {\r\n        const targetComment = comments.find( c => c.id === commentId );\r\n        const childCommentIds = targetComment.childComments;\r\n\r\n        if (childCommentIds.length === 0) return {...targetComment, depth: depth};\r\n\r\n        return [\r\n            ...[{...targetComment, depth: depth}], \r\n            ...childCommentIds.map(c => this.constructCommentTree(comments, c, depth + 1))\r\n        ];\r\n    }\r\n\r\n    flatten = (array) => array.reduce( (agg, e) => \r\n        agg.concat(Array.isArray(e) ? this.flatten(e) : e)\r\n        , [] );\r\n\r\n    toggleReplyThreadVisibility = () => {\r\n        const {parent, comments, toggleReplyThreadVisibility} = this.props;\r\n\r\n        const firstChildId = parent.childComments[0];\r\n        const firstChild = comments.find(c => c.id === firstChildId);\r\n        if (firstChild === undefined) return;\r\n\r\n        let replyThread;\r\n        if (parent.id.slice(0, 4) === 'post' ) {\r\n            // DRY UP CODE\r\n            const descendents = parent.childComments.map(commentId => this.constructCommentTree(comments, commentId, 0));\r\n            replyThread = this\r\n                .flatten(descendents)\r\n                .filter(d => d.depth > 0)\r\n                .map(d => { return {...d, isVisible: false} });\r\n        }\r\n        else if (firstChild.isVisible) {\r\n            // DRY UP CODE\r\n            const descendents = parent.childComments.map(commentId => this.constructCommentTree(comments, commentId, 0));\r\n            replyThread = this.flatten(descendents).map(d => { return {...d, isVisible: false} });\r\n        }\r\n        else {\r\n            replyThread = comments\r\n                .filter(c => parent.childComments.includes(c.id))\r\n                .map(c => { return {...c, isVisible: true} });\r\n        }\r\n\r\n        return toggleReplyThreadVisibility(replyThread);\r\n    }\r\n\r\n    render() {   \r\n        const {parent} = this.props;\r\n\r\n        return (\r\n            <div className=\"comment-options\">\r\n                { /* Reply */ }\r\n                <button \r\n                    className=\"reply\"\r\n                    onClick={this.toggleCommentCreationField.bind(this)}\r\n                >\r\n                    Reply\r\n                </button>\r\n\r\n                { /* Replies */ }\r\n                <button \r\n                    className=\"replies\"\r\n                    onClick={this.toggleReplyThreadVisibility.bind(this)}\r\n                >\r\n                    Replies: {parent.childComments.length}\r\n                </button>\r\n                \r\n                { /* Like */ }\r\n                <button \r\n                    className=\"like\"\r\n                    onClick={this.addLike}\r\n                >\r\n                    Like: {parent.likes}\r\n                </button>    {/*Use css :after*/}\r\n\r\n                <div className=\"comment-creation-field hidden\">\r\n                    <textarea \r\n                        className=\"comment-creation-text\" \r\n                        placeholder=\"Write your comment here ...\"\r\n                    >\r\n                    </textarea>\r\n\r\n                    <button onClick={this.submit.bind(this)}>\r\n                        Submit\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// CommentCreationField.propTypes = {\r\n//     username: PropTypes.string.isRequired,\r\n//     parent: PropTypes.object.isRequired,    // refactor with shape\r\n//     addComment: PropTypes.func.isRequired\r\n// }\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.activeUser,\r\n        comments: state.comments\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    const addComment = (comment, user, parentId) => dispatch(AddComment(comment, user, parentId));\r\n    const addLike = post => dispatch(AddLike(post));\r\n    const toggleReplyThreadVisibility = commentIds => dispatch(ToggleReplyThreadVisibility(commentIds));\r\n\r\n    return { \r\n        addComment,\r\n        addLike,\r\n        toggleReplyThreadVisibility\r\n    }; \r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentOptions);\r\n","import types from \"../types\";\r\n\r\nexport default function(parentId) {\r\n    return {\r\n        type: types.LIKE_ADDED,\r\n        payload: parentId\r\n    }\r\n}","import types from \"../types\";\r\n\r\nexport default function(commentIds) {\r\n    return {\r\n        type: types.REPLY_THREAD_TOGGLED,\r\n        payload: commentIds\r\n    }\r\n}","import React, {Component} from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport CommentOptions from './comment-options-container';\r\n\r\nclass Comment extends Component {\r\n    render() {\r\n        const {comment} = this.props;\r\n\r\n        return (\r\n\r\n            <section \r\n                id=\"comment\"\r\n                style={{\r\n                    marginLeft: 30 * comment.depth,\r\n                    display: comment.isVisible ? 'block' : 'none'\r\n                }}\r\n            >\r\n\r\n                <header className=\"author-detail\">\r\n                    {comment.author.username} -- {comment.date.toDateString()}\r\n                </header>\r\n\r\n                <p>{comment.content}</p>\r\n\r\n                <CommentOptions parent={comment}/>\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n// Comment.propTypes = {\r\n//     comment: PropTypes.shape({\r\n//         id: PropTypes.number.isRequired,\r\n//         content: PropTypes.string.isRequired,\r\n//         username: PropTypes.string.isRequired,\r\n//         date: PropTypes.string.isRequired,\r\n//         childIds: []\r\n//     }).isRequired\r\n//     ,\r\n\r\n//     comments: PropTypes.arrayOf(\r\n//         PropTypes.shape({\r\n//             id: PropTypes.number.isRequired,\r\n//             content: PropTypes.string.isRequired,\r\n//             username: PropTypes.string.isRequired,\r\n//             date: PropTypes.string.isRequired,\r\n//             childIds: []\r\n//         }).isRequired\r\n//     )\r\n// }\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        comments: state.comments\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Comment)\r\n\r\n\r\n","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport NavBar from '../common/navbar';\r\nimport CommentOptions from '../comments/comment-options-container';\r\nimport Comment from '../comments/comment-container';\r\n\r\nclass Post extends React.Component {\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n    }\r\n\r\n    constructCommentTree = (comments, commentId, depth) => {\r\n        const targetComment = comments.find( c => c.id === commentId );\r\n        const childCommentIds = targetComment.childComments;\r\n\r\n        if (childCommentIds.length === 0) return {...targetComment, depth: depth};\r\n\r\n        return [\r\n            ...[{...targetComment, depth: depth}], \r\n            ...childCommentIds.map(c => this.constructCommentTree(comments, c, depth + 1))\r\n        ];\r\n    }\r\n\r\n    flatten = (array) => array\r\n        .reduce( (agg, e) => agg.concat(Array.isArray(e) \r\n            ? this.flatten(e)\r\n            : e\r\n        ) , [] )\r\n\r\n    render() {\r\n        const { posts, comments } = this.props;\r\n        \r\n        const postId = this.props.match.params.post_id; \r\n        let post = posts.find(p => p.id === postId);     // postId from initialState is coming out as string, hence only 2 equal signs\r\n\r\n        const postComments = post.childComments\r\n            .map(commentId => this.constructCommentTree(comments, commentId, 0))\r\n            \r\n        const flattenedComments = this.flatten(postComments);\r\n        const placeholder = 'Be the first to write a comment ...';\r\n\r\n        return (\r\n            <div id=\"post\">\r\n                <NavBar />\r\n\r\n                <section>\r\n                    <header>\r\n                        <h1>{post.title.split(' ').map(word => word[0].toUpperCase() + word.slice(1)).join(' ')}</h1>\r\n                        <p className=\"author-detail\">{post.author.username}</p>\r\n                        <time className=\"author-detail\">{post.date.toString()}</time>   \r\n                    </header>\r\n                                     \r\n                    <div>{post.content.split('\\n').map((paragraph, i) => <p key={i} className=\"postParagraph\">{paragraph}</p>)}</div>\r\n\r\n                    <CommentOptions parent={post}/> {/* This needs to be the whole post to include number of likes */}\r\n                </section>\r\n                \r\n                <section id=\"comments\">\r\n                    <h2>Comments</h2>\r\n\r\n                    <ul>\r\n                        { flattenedComments.length > 0\r\n                            ? flattenedComments.map(c => <li key={c.id}><Comment comment={c} /></li>) \r\n                            : <span className=\"deemphasize\">{placeholder}</span> }\r\n                    </ul>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Post.propTypes = {\r\n//     posts: PropTypes.arrayOf(\r\n//         PropTypes.shape({\r\n//             id: PropTypes.number.isRequired,\r\n//             title: PropTypes.string.isRequired,\r\n//             content: PropTypes.string.isRequired,\r\n//             author: PropTypes.string.isRequired,\r\n//             date: PropTypes.string.isRequired,\r\n//             history: PropTypes.object \r\n//         })).isRequired,\r\n    \r\n//     comments: PropTypes.arrayOf(\r\n//         PropTypes.shape({\r\n//             id: PropTypes.number.isRequired,\r\n//             content: PropTypes.string.isRequired,\r\n//             username: PropTypes.string.isRequired,\r\n//             date: PropTypes.string.isRequired\r\n//     })).isRequired\r\n// }\r\n\r\nPost.defaultProps = {\r\n    posts: [\r\n        {\r\n            id: 0,\r\n            title: \"none\",\r\n            content: \"\",\r\n            author: \"\",\r\n            date: \"\",\r\n            history: {history: 'history'}   // CHANGE TO MATCH?\r\n        }\r\n    ]\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        posts: state.posts,\r\n        comments: state.comments\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Post);\r\n\r\n\r\n","import React from 'react';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport Home from './app/home/home-container';\r\nimport Login from './app/user-active/login-container';\r\nimport SignUp from './app/users/sign-up-container';\r\nimport UpdateProfile from './app/profile/update-profile-container';\r\nimport CreatePost from './app/post-create/create-post-container';\r\nimport Post from './app/post/post-container';\r\nimport './App.css';\r\n\r\nexport default function() {\r\n  return (\r\n    <HashRouter basename='/'>\r\n        <Route exact path=\"/\" component={Login}></Route>\r\n        <Route path=\"/login\" component={Login}></Route>\r\n        <Route path=\"/sign-up\" component={SignUp}></Route>\r\n        <Route path=\"/home\" component={Home}></Route>\r\n        <Route path=\"/update-profile\" component={UpdateProfile}></Route>\r\n        <Route path=\"/create-post\" component={CreatePost}></Route>\r\n        <Route path=\"/posts/:post_id\" component={Post}></Route>\r\n    </HashRouter>\r\n    /*</Router>*/\r\n  )\r\n}\r\n\r\n// function App() {\r\n//   return (\r\n//     <div className=\"App\">\r\n//       <header className=\"App-header\">\r\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n//         <p>\r\n//           Edit <code>src/App.js</code> and save to reload.\r\n//         </p>\r\n//         <a\r\n//           className=\"App-link\"\r\n//           href=\"https://reactjs.org\"\r\n//           target=\"_blank\"\r\n//           rel=\"noopener noreferrer\"\r\n//         >\r\n//           Learn React\r\n//         </a>\r\n//       </header>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default App;\r\n","import users from './users';\r\n//import posts from './posts';\r\nimport { postsWithComments as posts, comments } from './comments';\r\n\r\nexport default {\r\n    users, \r\n    posts,\r\n    comments\r\n}","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension'; // implements chrome redux extension\r\nimport allReducers from './app/all-reducers';\r\nimport App from './App';\r\nimport initialState from './app/initial-state';\r\nrequire('./index.css');\r\n\r\nconst store = createStore(\r\n    allReducers, \r\n    initialState,\r\n    composeWithDevTools()\r\n);\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)\r\n\r\n// DONE\r\n\r\n\r\n// DONE Remove nav bar from login and sign in pages\r\n// DONE Do not allow same usernames or emails\r\n// DONE Comments are failing again\r\n// DONE Provide defaults and a way for a viewer to select easily (include ability to sign in)\r\n    // DONE Comments\r\n    // DONE Prompt to allow viewer to select a user to log in with\r\n// DONE Vary posts in the same way that comments vary\r\n// DONE After addition of user profile, sign up unable to convert undefined or null object\r\n// DONE Provide a way for a user to add profile details\r\n// DONE Ensure the avatar image renders correctly for a new user\r\n// DONE Only the last comments have children (this is because of how comments are generated recursively)\r\n\r\n// MINIMUM VIABLE PRODUCT\r\n\r\n\r\n// Allow users to view others' home pages by clicking on their names\r\n// Disable editing and various sections if viewing someone else's home page \r\n// Allow a user to cancel creating a post, or do not submit if any fields are empty (this functionality has already been added for comments)\r\n// Have reply count include all descendents, not just direct replies\r\n// Allow pages to fail gracefully if a url is manually changed and user is null\r\n\r\n\r\n// NICE TO HAVE\r\n\r\n\r\n// Allow a user to delete or edit posts (and comments?)\r\n// Allow users to order their posts by popularity or chronological\r\n// Allow a user to search for a post\r\n// Posts you might be interested in\r\n    // count top significant words in active user's titles\r\n    // score other posts on match, likes and recency\r\n// show only a selection of posts in the home page and provide the option to view more\r\n\r\n\r\n// FINAL TOUCHES\r\n\r\n\r\n// Add Navbar with && Conditional in App.js\r\n// Consider showing default child posts as hidden\r\n// Convert unnecessary classes to simple functions\r\n// Convert CSS to REM (or other suitable - )\r\n// Restructure files\r\n// Change 'user_Id' to just 'id'\r\n\r\n\r\n\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}